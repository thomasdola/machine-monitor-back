webpackJsonp([32],{1115:function(e,n,a){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function o(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var i=a(8),l=a.n(i),s=a(0),u=a.n(s),c=a(774),p=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),f=function(e){function n(){var e,a,o,i;t(this,n);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=o=r(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(s))),o._handleOnChange=function(e){(0,o.props.onChange)({label:"role",value:e})},i=a,r(o,i)}return o(n,e),p(n,[{key:"render",value:function(){var e=this.props,n=e.roles,a=e.value,t=e.small,r=e.disabled;return u.a.createElement(c.d,{label:"role",disabled:r,small:t,defaultValue:a,onChange:this._handleOnChange,items:n})}}]),n}(u.a.Component);f.propTypes={roles:l.a.array.isRequired,onChange:l.a.func.isRequired,value:l.a.any.isRequired,small:l.a.bool,disabled:l.a.bool},n.a=f},1577:function(e,n,a){"use strict";function t(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function i(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var l=a(0),s=a.n(l),u=a(58),c=a(8),p=a.n(c),f=a(27),d=a(42),b=a(983),m=a(1115),v=a(727),h=a(725),y=a(6),g=a(80),O=a.n(g),E=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),_=function(e){function n(){var e,a,i,l;r(this,n);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return a=i=o(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(u))),i.state={name:"",username:"",role:"",password:"",passwordConfirmation:""},i._handleInputChange=function(e,n){i.setState(t({},e,n))},i._handleAddUser=function(){var e=i.props,n=e.addUser,a=e.authUser.token,t=i.state,r=t.name,o=t.username,l=t.role,s=t.password,u=new FormData;u.append("full_name",r),u.append("username",o),u.append("password",s),u.append("role_id",l),n(a,u)},l=a,o(i,l)}return i(n,e),E(n,[{key:"componentDidUpdate",value:function(e){var n=e.OPERATION_SUCCESSFUL,a=e.OPERATION_FAILED,t=this.props,r=t.OPERATION_SUCCESSFUL,o=t.OPERATION_FAILED,i=t.history,l=this.state.name.toUpperCase();O()(n,r)||r.action===y.H&&(i.goBack(),h.a.show({message:l+" Successfully Added \ud83d\ude03",intent:u.x.SUCCESS,icon:"tick"})),O()(a,o)||o.action===y.H&&(console.log(o.data),h.a.show({message:"Could Not Add "+l+" \ud83d\ude1e",intent:u.x.DANGER,icon:"error"}))}},{key:"_isFormValid",value:function(){var e=this.state,n=e.name,a=e.username,t=e.role,r=e.password,o=e.passwordConfirmation,i={name:n,username:a,role:t,password:r,passwordConfirmation:o};return Object(v.a)(i)&&O()(r,o)}},{key:"render",value:function(){var e=this,n=this.props,a=n.addingUser,t=n.roles,r=this.state,o=r.name,i=r.role,l=r.username,c=r.password,p=r.passwordConfirmation,f=!this._isFormValid();return[s.a.createElement("div",{className:"bp3-dialog-body"},s.a.createElement("label",{className:"bp3-label"},"Full Name",s.a.createElement("input",{value:o,name:"name",onChange:function(n){var a=n.target,t=a.name,r=a.value;return e._handleInputChange(t,r)},className:"bp3-input bp3-fill",type:"text",dir:"auto"})),s.a.createElement("label",{className:"bp3-label"},"Username",s.a.createElement("input",{value:l,name:"username",onChange:function(n){var a=n.target,t=a.name,r=a.value;return e._handleInputChange(t,r)},className:"bp3-input bp3-fill",dir:"auto"})),s.a.createElement("label",{className:"bp3-label"},"Role",s.a.createElement(m.a,{small:!1,roles:t,onChange:function(n){var a=n.value;return e._handleInputChange("role",a)},value:i})),s.a.createElement("label",{className:"bp3-label"},"Password",s.a.createElement(u.w,{name:"password",onChange:function(n){var a=n.target,t=a.name,r=a.value;return e._handleInputChange(t,r)},type:"password",required:!0,value:c,placeholder:"Password"})),s.a.createElement("label",{className:"bp3-label"},"Confirm Password",s.a.createElement(u.w,{onChange:function(n){var a=n.target,t=a.name,r=a.value;return e._handleInputChange(t,r)},type:"password",required:!0,value:p,placeholder:"Re-type Password"}))),s.a.createElement("div",{className:"bp3-dialog-footer"},s.a.createElement("div",{className:"bp3-dialog-footer-actions"},s.a.createElement(u.e,{disabled:f,loading:a,intent:u.x.PRIMARY,onClick:this._handleAddUser,icon:"tick",text:"save"})))]}}]),n}(s.a.Component);_.propTypes={history:p.a.object.isRequired,authUser:p.a.object.isRequired,OPERATION_SUCCESSFUL:p.a.object.isRequired,OPERATION_FAILED:p.a.object.isRequired,addUser:p.a.func.isRequired,addingUser:p.a.bool.isRequired,roles:p.a.array.isRequired,policies:p.a.array.isRequired};var w=function(e){return{OPERATION_SUCCESSFUL:e.OPERATION_SUCCESSFUL,OPERATION_FAILED:e.OPERATION_FAILED,addingUser:e.addingUser,roles:e.roles,policies:e.policies,authUser:e.authUser}},C=function(e){return Object(d.b)({addUser:b.a},e)};n.default=Object(f.b)(w,C)(_)},725:function(e,n,a){"use strict";var t=a(58);n.a=t.T.create({position:t.J.TOP})},727:function(e,n,a){"use strict";function t(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function r(e){if(Array.isArray(e)){for(var n=0,a=Array(e.length);n<e.length;n++)a[n]=e[n];return a}return Array.from(e)}function o(e){var n=[];return l()(e,function(e,a){if("number"===typeof e)if(e){var o;n=[].concat(r(n),[(o={},t(o,a,e),t(o,"valid",!0),o)])}else{var i;n=[].concat(r(n),[(i={},t(i,a,e),t(i,"valid",!1),i)])}else if("string"===typeof e)if(e.trim().length>0){var l;n=[].concat(r(n),[(l={},t(l,a,e),t(l,"valid",!0),l)])}else{var s;n=[].concat(r(n),[(s={},t(s,a,e),t(s,"valid",!1),s)])}else if(u()(e))if(e.length>0){var c;n=[].concat(r(n),[(c={},t(c,a,e),t(c,"valid",!0),c)])}else{var p;n=[].concat(r(n),[(p={},t(p,a,e),t(p,"valid",!1),p)])}else{var f;n=[].concat(r(n),[(f={},t(f,a,e),t(f,"valid",!1),f)])}}),console.log("form validation",n),p()(n,"valid")}n.a=o;var i=a(729),l=a.n(i),s=a(14),u=a.n(s),c=a(731),p=a.n(c)},729:function(e,n,a){function t(e,n){return e&&r(e,o(n))}var r=a(256),o=a(730);e.exports=t},730:function(e,n,a){function t(e){return"function"==typeof e?e:r}var r=a(60);e.exports=t},731:function(e,n,a){function t(e,n,a){var t=l(e)?r:o;return a&&s(e,n,a)&&(n=void 0),t(e,i(n,3))}var r=a(732),o=a(733),i=a(59),l=a(14),s=a(257);e.exports=t},732:function(e,n){function a(e,n){for(var a=-1,t=null==e?0:e.length;++a<t;)if(!n(e[a],a,e))return!1;return!0}e.exports=a},733:function(e,n,a){function t(e,n){var a=!0;return r(e,function(e,t,r){return a=!!n(e,t,r)}),a}var r=a(136);e.exports=t}});
//# sourceMappingURL=32.56a945a2.chunk.js.map