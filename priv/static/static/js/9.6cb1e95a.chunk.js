webpackJsonp([9],{1003:function(e,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return o});var r=t(6),a=function(e){var n=e.channel,t=e.onMachinesUpdated;n.on(r._122,function(e){return t(e)})},o=function(e){var n=e.machines;return{type:r._122,machines:n}}},1004:function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var a=t(254),o=t.n(a),i=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),c=function(){function e(){r(this,e)}return i(e,null,[{key:"list",value:function(e,n){return o()({method:"GET",headers:{Authorization:"Bearer "+e},params:n,url:"/api/browser/centers"})}},{key:"single",value:function(e,n){return o()({method:"GET",headers:{Authorization:"Bearer "+e},url:"/api/browser/centers/"+n})}},{key:"add",value:function(e,n){return o()({method:"POST",headers:{Authorization:"Bearer "+e},data:n,url:"/api/browser/centers"})}},{key:"edit",value:function(e,n,t){return o()({method:"PUT",headers:{Authorization:"Bearer "+e},data:t,url:"/api/browser/centers/"+n})}},{key:"delete",value:function(e,n){return o()({method:"DELETE",headers:{Authorization:"Bearer "+e},url:"/api/browser/centers/"+n})}}]),e}();n.a=c},1608:function(e,n,t){var r=t(1609);"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!1};a.transform=void 0;t(699)(r,a);r.locals&&(e.exports=r.locals)},1609:function(e,n,t){n=e.exports=t(698)(!0),n.push([e.i,".Map__Page{color:#394b59!important;display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:justify;justify-content:space-between;height:100%;width:100%}.Map__Page .mapboxgl-ctrl.mapboxgl-ctrl-attrib,.Map__Page .ol-attribution button,.Map__Page .ol-attribution ul{display:none!important}.Map__Page .Map__Box{width:100%;height:100%}.Map__Page .Map__Box #map{height:100%}.Map__Page .Map__Box .mapboxgl-popup-content{padding:0}.Map__Page .Map__Box .Center__Details__Popup{max-width:300px;padding:0!important}.Map__Page .Map__Box .Center__Details__Popup .Header{color:#394b59!important;font-size:1.5em;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-align:center;align-items:center;height:30px;border-bottom-left-radius:0;border-bottom-right-radius:0}.Map__Page .Map__Box .Center__Details__Popup .Content{padding:10px;max-height:calc(100% - 30px);overflow-y:auto}.Map__Page .Map__Box .Center__Details__Popup .Content .Machine{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-align:center;align-items:center}.Map__Page .Machines__Box{display:-ms-flexbox;display:flex;position:absolute;border-radius:0;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center;width:100%;padding-right:4px;background-color:hsla(0,0%,100%,0);-webkit-box-shadow:none;box-shadow:none;height:50px;z-index:999999}.Map__Page .Machines__Box .Header{height:40px;width:25%;margin:0}","",{version:3,sources:["/run/media/guru/Basket/currentDocument/current/projects/javascipt/mrw-tracker/src/Components/MachinesMap/index.css"],names:[],mappings:"AAGA,WACE,wBAA0B,AAC1B,oBAAqB,AACrB,aAAc,AACd,kBAAmB,AACnB,sBAAuB,AACnB,8BAA+B,AACnC,YAAa,AACb,UAAY,CAAE,AACd,+GACE,sBAAyB,CAAE,AAC7B,qBACE,WAAY,AACZ,WAAa,CAAE,AACf,0BACE,WAAa,CAAE,AACjB,6CACE,SAAW,CAAE,AACf,6CACE,gBAAiB,AACjB,mBAAsB,CAAE,AACxB,qDACE,wBAA0B,AAC1B,gBAAiB,AACjB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,6BAA8B,AAClC,sBAAuB,AACnB,mBAAoB,AACxB,YAAa,AACb,4BAA6B,AAC7B,4BAA8B,CAAE,AAClC,sDACE,aAAc,AACd,6BAA8B,AAC9B,eAAiB,CAAE,AACnB,+DACE,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,6BAA8B,AAClC,sBAAuB,AACnB,kBAAoB,CAAE,AAClC,0BACE,oBAAqB,AACrB,aAAc,AACd,kBAAmB,AACnB,gBAAiB,AACjB,kBAAmB,AACf,yBAA0B,AAC9B,sBAAuB,AACnB,mBAAoB,AACxB,WAAY,AACZ,kBAAmB,AACnB,mCAAyC,AACzC,wBAAyB,AACjB,gBAAiB,AACzB,YAAa,AACb,cAAgB,CAAE,AAClB,kCACE,YAAa,AACb,UAAW,AACX,QAAU,CAAE",file:"index.css",sourcesContent:["/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n */\n.Map__Page {\n  color: #394b59 !important;\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  height: 100%;\n  width: 100%; }\n  .Map__Page .ol-attribution ul, .Map__Page .ol-attribution button, .Map__Page .mapboxgl-ctrl.mapboxgl-ctrl-attrib {\n    display: none !important; }\n  .Map__Page .Map__Box {\n    width: 100%;\n    height: 100%; }\n    .Map__Page .Map__Box #map {\n      height: 100%; }\n    .Map__Page .Map__Box .mapboxgl-popup-content {\n      padding: 0; }\n    .Map__Page .Map__Box .Center__Details__Popup {\n      max-width: 300px;\n      padding: 0 !important; }\n      .Map__Page .Map__Box .Center__Details__Popup .Header {\n        color: #394b59 !important;\n        font-size: 1.5em;\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-pack: distribute;\n            justify-content: space-around;\n        -ms-flex-align: center;\n            align-items: center;\n        height: 30px;\n        border-bottom-left-radius: 0;\n        border-bottom-right-radius: 0; }\n      .Map__Page .Map__Box .Center__Details__Popup .Content {\n        padding: 10px;\n        max-height: calc(100% - 30px);\n        overflow-y: auto; }\n        .Map__Page .Map__Box .Center__Details__Popup .Content .Machine {\n          display: -ms-flexbox;\n          display: flex;\n          -ms-flex-pack: distribute;\n              justify-content: space-around;\n          -ms-flex-align: center;\n              align-items: center; }\n  .Map__Page .Machines__Box {\n    display: -ms-flexbox;\n    display: flex;\n    position: absolute;\n    border-radius: 0;\n    -ms-flex-pack: end;\n        justify-content: flex-end;\n    -ms-flex-align: center;\n        align-items: center;\n    width: 100%;\n    padding-right: 4px;\n    background-color: rgba(255, 255, 255, 0);\n    -webkit-box-shadow: none;\n            box-shadow: none;\n    height: 50px;\n    z-index: 999999; }\n    .Map__Page .Machines__Box .Header {\n      height: 40px;\n      width: 25%;\n      margin: 0; }\n"],sourceRoot:""}])},1610:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var r=t(0),a=t.n(r),o=t(255),i=t.n(o),c=t(830),u=i()({loader:function(){return t.e(12).then(t.bind(null,1611))},loading:function(){return a.a.createElement(c.a,null)}})},707:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function i(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var c=t(0),u=t.n(c),s=t(8),l=t.n(s),p=t(58),A=t(1608),f=(t.n(A),t(42)),d=t(27),h=t(1003),m=t(914),_=t(907),g=t(1610),y=t(767),b=t.n(y),B=t(41),C=t(80),x=t.n(C),v=t(253),j=t.n(v),M=(t(728),function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}()),w=function(e){function n(){var e,t,i,c;a(this,n);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return t=i=o(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(s))),i.state=r({current:null,machine:null,center:null,q:""},"machine",null),i._performSearch=function(){var e=i.state.q;e.trim()&&i.props.history.push("/map?q="+e)},c=t,o(i,c)}return i(n,e),M(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.authUser.token,t=e.userChannel,r=(e.location.search,e.onMachinesUpdated),a=e.loadMachines,o=e.loadCenters;Object(h.a)({channel:t,onMachinesUpdated:r}),a(n,{}),o(n,{})}},{key:"componentDidUpdate",value:function(e,n){this.props.machines,this.state.searchQuery,n.searchQuery}},{key:"render",value:function(){var e=this,n=this.props.centers;return u.a.createElement("div",{className:"Map__Page"},u.a.createElement("div",{className:"Map__Box"},u.a.createElement(g.a,{centers:n,query:this.state.machine})),u.a.createElement(p.g,{elevation:p.o.TWO,className:"Machines__Box"},u.a.createElement("div",{className:"Header"},u.a.createElement("div",{className:"bp3-input-group .modifier"},u.a.createElement("span",{className:"bp3-icon bp3-icon-search"}),u.a.createElement("input",{onChange:function(n){var t=n.target.value;return e.setState({q:t})},value:this.state.q,type:"text",className:"bp3-input",placeholder:"M0024..."}),u.a.createElement("button",{onClick:function(){return e._performSearch()},className:"bp3-button bp3-minimal bp3-intent-primary bp3-icon-arrow-right"})))))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var t=e.location.search,r=e.machines,a=(e.centers,n.q),o=n.machine,i=b.a.parse(t),c=i.q;console.log("prevState",a,c);var u=j()(r,{name:c})||null;return x()(u,o)?null:{machine:u}}}]),n}(u.a.Component);w.propTypes={location:l.a.object.isRequired,history:l.a.object.isRequired,userChannel:l.a.object.isRequired,authUser:l.a.object.isRequired,onMachinesUpdated:l.a.func.isRequired,loadMachines:l.a.func.isRequired,loadCenters:l.a.func.isRequired,machinesLocations:l.a.array.isRequired,centers:l.a.array.isRequired};var E=function(e){return{authUser:e.authUser,userChannel:e.userChannel,machinesLocations:e.machinesLocations,centers:e.centers,machines:e.machines}},P=function(e){return Object(f.b)({onMachinesUpdated:h.b,loadMachines:m.a,loadCenters:_.e},e)};n.default=Object(B.f)(Object(d.b)(E,P)(w))},728:function(e,n,t){"use strict";var r=t(58);n.a=r.T.create({position:r.J.TOP})},767:function(e,n,t){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(n,t,r){return null===t?[o(n,e),"[",r,"]"].join(""):[o(n,e),"[",o(r,e),"]=",o(t,e)].join("")};case"bracket":return function(n,t){return null===t?o(n,e):[o(n,e),"[]=",o(t,e)].join("")};default:return function(n,t){return null===t?o(n,e):[o(n,e),"=",o(t,e)].join("")}}}function a(e){var n;switch(e.arrayFormat){case"index":return function(e,t,r){if(n=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!n)return void(r[e]=t);void 0===r[e]&&(r[e]={}),r[e][n[1]]=t};case"bracket":return function(e,t,r){return n=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),n?void 0===r[e]?void(r[e]=[t]):void(r[e]=[].concat(r[e],t)):void(r[e]=t)};default:return function(e,n,t){if(void 0===t[e])return void(t[e]=n);t[e]=[].concat(t[e],n)}}}function o(e,n){return n.encode?n.strict?s(e):encodeURIComponent(e):e}function i(e){return Array.isArray(e)?e.sort():"object"===typeof e?i(Object.keys(e)).sort(function(e,n){return Number(e)-Number(n)}).map(function(n){return e[n]}):e}function c(e){var n=e.indexOf("?");return-1===n?"":e.slice(n+1)}function u(e,n){n=l({arrayFormat:"none"},n);var t=a(n),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("="),a=n.shift(),o=n.length>0?n.join("="):void 0;o=void 0===o?null:p(o),t(p(a),o,r)}),Object.keys(r).sort().reduce(function(e,n){var t=r[n];return Boolean(t)&&"object"===typeof t&&!Array.isArray(t)?e[n]=i(t):e[n]=t,e},Object.create(null))):r}var s=t(825),l=t(81),p=t(826);n.extract=c,n.parse=u,n.stringify=function(e,n){n=l({encode:!0,strict:!0,arrayFormat:"none"},n),!1===n.sort&&(n.sort=function(){});var t=r(n);return e?Object.keys(e).sort(n.sort).map(function(r){var a=e[r];if(void 0===a)return"";if(null===a)return o(r,n);if(Array.isArray(a)){var i=[];return a.slice().forEach(function(e){void 0!==e&&i.push(t(r,e,i.length))}),i.join("&")}return o(r,n)+"="+o(a,n)}).filter(function(e){return e.length>0}).join("&"):""},n.parseUrl=function(e,n){return{url:e.split("?")[0]||"",query:u(c(e),n)}}},825:function(e,n,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},826:function(e,n,t){"use strict";function r(e,n){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;n=n||1;var t=e.slice(0,n),a=e.slice(n);return Array.prototype.concat.call([],r(t),r(a))}function a(e){try{return decodeURIComponent(e)}catch(a){for(var n=e.match(i),t=1;t<n.length;t++)e=r(n,t).join(""),n=e.match(i);return e}}function o(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},t=c.exec(e);t;){try{n[t[0]]=decodeURIComponent(t[0])}catch(e){var r=a(t[0]);r!==t[0]&&(n[t[0]]=r)}t=c.exec(e)}n["%C2"]="\ufffd";for(var o=Object.keys(n),i=0;i<o.length;i++){var u=o[i];e=e.replace(new RegExp(u,"g"),n[u])}return e}var i=new RegExp("%[a-f0-9]{2}","gi"),c=new RegExp("(%[a-f0-9]{2})+","gi");e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(n){return o(e)}}},830:function(e,n,t){"use strict";var r=t(0),a=t.n(r),o=t(58),i=t(874);t.n(i);n.a=function(){return a.a.createElement("div",{className:"loading"},a.a.createElement(o.N,null))}},874:function(e,n,t){var r=t(875);"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!1};a.transform=void 0;t(699)(r,a);r.locals&&(e.exports=r.locals)},875:function(e,n,t){n=e.exports=t(698)(!0),n.push([e.i,".loading{width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}","",{version:3,sources:["/run/media/guru/Basket/currentDocument/current/projects/javascipt/mrw-tracker/src/Components/Common/loading/index.css"],names:[],mappings:"AAAA,SACE,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,uBAAwB,AAC5B,sBAAuB,AACnB,kBAAoB,CAAE",file:"index.css",sourcesContent:[".loading {\n  width: 100%;\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center; }\n"],sourceRoot:""}])},907:function(e,n,t){"use strict";t.d(n,"e",function(){return i}),t.d(n,"d",function(){return c}),t.d(n,"a",function(){return u}),t.d(n,"c",function(){return s}),t.d(n,"b",function(){return l});var r=t(6),a=t(1004),o=t(135),i=(t.n(o),function(e,n){return function(t){return t({type:r._49}),a.a.list(e,n).then(function(e){var n=e.data,a=n.centers,o=n.pagination;t({type:r._51,centers:a,pagination:o})}).catch(function(e){t({type:r._50}),console.log(e)})}}),c=function(e,n){return function(t){return t({type:r._48}),a.a.single(e,n).then(function(e){var n=e.data;t({type:r._53,center:n})}).catch(function(e){t({type:r._52}),console.log(e)})}},u=function(e,n){return function(t){return t({type:r.d}),a.a.add(e,n).then(function(e){var n=e.data.created;n&&(t({type:r.f}),t({type:r._127,action:r.d,timestamp:Object(o.getTime)(Date()),data:{created:n}}))}).catch(function(e){t({type:r._125,action:r.H,timestamp:Object(o.getTime)(Date()),data:Object.assign({},e)}),t({type:r.e}),console.log(e)})}},s=function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(c){return c({type:r._13}),a.a.edit(e,n,t).then(function(e){var n=e.data.updated;n&&(c({type:r._15}),i=i||r._13,c({type:r._127,action:i,timestamp:Object(o.getTime)(Date()),data:{updated:n}}))}).catch(function(e){c({type:r._125,action:r._13,timestamp:Object(o.getTime)(Date()),data:Object.assign({},e)}),c({type:r._14}),console.log(e)})}},l=function(e,n){return function(t){return t({type:r.O}),a.a.delete(e,n).then(function(e){var n=e.data.deleted;n&&(t({type:r.Q}),t({type:r._127,action:r.O,timestamp:Object(o.getTime)(Date()),data:{deleted:n}}))}).catch(function(e){t({type:r._125,action:r.O,timestamp:Object(o.getTime)(Date()),data:Object.assign({},e)}),t({type:r.P}),console.log(e)})}}},914:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var r=t(6),a=t(915),o=function(e,n){return function(t){return t({type:r._66}),a.a.list(e,n).then(function(e){var n=e.data;t({type:r._68,machines:n})}).catch(function(e){t({type:r._67}),console.log(e)})}}},915:function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var a=t(254),o=t.n(a),i=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),c=function(){function e(){r(this,e)}return i(e,null,[{key:"list",value:function(e,n){return o()({method:"GET",url:"/api/browser/machines",headers:{Authorization:"Bearer "+e},params:n})}}]),e}();n.a=c}});
//# sourceMappingURL=9.6cb1e95a.chunk.js.map