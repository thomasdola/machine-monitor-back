webpackJsonp([34],{1573:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),s=n.n(u),l=n(58),c=n(41),f=n(1574),p=n(8),d=n.n(p),b=n(868),v=n(42),h=n(27),y=n(253),m=n.n(y),O=n(80),g=n.n(O),_=n(730),E=n(728),R=n(6),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j=function(e){function t(){var e,n,i,u;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.state={users:[],role:{}},i._formValid=function(){var e=i.state.users,t={users:e.map(function(e){return e.id})};return Object(_.a)(t)},i._handleInputChange=function(e,t){i.setState(r({},e,t))},i._handleEditRole=function(){for(var e=i.state,t=e.users,n=e.role.uuid,r=i.props,o=r.authUser.token,a=r.editRole,u=new FormData,s=t.map(function(e){return e.id}),l=0;l<s.length;l++)u.append("users[]",s[l]);a(o,n,u,R._35)},u=n,a(i,u)}return i(t,e),C(t,[{key:"componentDidUpdate",value:function(e){var t=e.OPERATION_SUCCESSFUL,n=e.OPERATION_FAILED,r=this.props,o=r.roles,a=r.match.params.uuid,i=r.OPERATION_SUCCESSFUL,u=r.OPERATION_FAILED,s=r.history,c=m()(o,{uuid:a})||{name:""};g()(t,i)||i.action===R._35&&(s.goBack(),E.a.show({message:"User(s) Added Successfully To "+c.name.toUpperCase()+" \ud83d\ude03",intent:l.x.SUCCESS,icon:"tick"})),g()(n,u)||u.action===R._35&&(console.log(u.data),E.a.show({message:"Could Not Add User(s) To "+c.name.toUpperCase()+" \ud83d\ude1e",intent:l.x.DANGER,icon:"error"}))}},{key:"render",value:function(){var e=this,t=this.props.editingRole,n=!this._formValid();return[s.a.createElement("div",{className:"bp3-dialog-body"},s.a.createElement("label",{className:"bp3-label"},"Users",s.a.createElement(f.a,{onChange:function(t){var n=t.value;return e._handleInputChange("users",n)},values:this.state.users}))),s.a.createElement("div",{className:"bp3-dialog-footer"},s.a.createElement("div",{className:"bp3-dialog-footer-actions"},s.a.createElement(l.e,{disabled:n,loading:t,intent:l.x.PRIMARY,onClick:this._handleEditRole,icon:"tick",text:"save"})))]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.role,r=e.roles,o=e.match.params.uuid,a=m()(r,{uuid:o})||{};return g()(n,a)?null:{role:a}}}]),t}(s.a.Component);j.propTypes={match:d.a.object.isRequired,authUser:d.a.object.isRequired,OPERATION_FAILED:d.a.object.isRequired,OPERATION_SUCCESSFUL:d.a.object.isRequired,roles:d.a.array.isRequired,policies:d.a.array.isRequired,editRole:d.a.func.isRequired,editingRole:d.a.bool.isRequired};var A=function(e){return{authUser:e.authUser,OPERATION_FAILED:e.OPERATION_FAILED,OPERATION_SUCCESSFUL:e.OPERATION_SUCCESSFUL,roles:e.roles,editingRole:e.editingRole,policies:e.policies}},U=function(e){return Object(v.b)({editRole:b.c},e)};t.default=Object(c.f)(Object(h.b)(A,U)(j))},1574:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(8),u=n.n(i),s=n(0),l=n.n(s),c=n(27),f=n(42),p=n(777),d=n(986),b=n(842),v=n.n(b),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._handleOnChange=n._handleOnChange.bind(n),n}return a(t,e),h(t,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"_handleOnChange",value:function(e){(0,this.props.onChange)({label:"users",value:e})}},{key:"render",value:function(){var e=this.props,t=e.users,n=e.values,r=e.small,o=e.disabled;return l.a.createElement(p.c,{disabled:o||t.length<1,label:"action",small:r,defaultValues:n,onChange:this._handleOnChange,items:t})}}]),t}(l.a.Component);y.propTypes={users:u.a.array.isRequired,onChange:u.a.func.isRequired,loadUsers:u.a.func.isRequired,values:u.a.array.isRequired,small:u.a.bool,disabled:u.a.bool};var m=function(e){var t=e.users;return{users:function(){return v()(t,function(e){return null===e.role})}}},O=function(e){return Object(f.b)({loadUsers:d.d},e)};t.a=Object(c.b)(m,O)(y)},730:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){var t=[];return u()(e,function(e,n){if("number"===typeof e)if(e){var a;t=[].concat(o(t),[(a={},r(a,n,e),r(a,"valid",!0),a)])}else{var i;t=[].concat(o(t),[(i={},r(i,n,e),r(i,"valid",!1),i)])}else if("string"===typeof e)if(e.trim().length>0){var u;t=[].concat(o(t),[(u={},r(u,n,e),r(u,"valid",!0),u)])}else{var s;t=[].concat(o(t),[(s={},r(s,n,e),r(s,"valid",!1),s)])}else if(l()(e))if(e.length>0){var c;t=[].concat(o(t),[(c={},r(c,n,e),r(c,"valid",!0),c)])}else{var f;t=[].concat(o(t),[(f={},r(f,n,e),r(f,"valid",!1),f)])}else{var p;t=[].concat(o(t),[(p={},r(p,n,e),r(p,"valid",!1),p)])}}),console.log("form validation",t),f()(t,"valid")}t.a=a;var i=n(732),u=n.n(i),s=n(14),l=n.n(s),c=n(734),f=n.n(c)},732:function(e,t,n){function r(e,t){return e&&o(e,a(t))}var o=n(256),a=n(733);e.exports=r},733:function(e,t,n){function r(e){return"function"==typeof e?e:o}var o=n(60);e.exports=r},734:function(e,t,n){function r(e,t,n){var r=u(e)?o:a;return n&&s(e,t,n)&&(t=void 0),r(e,i(t,3))}var o=n(735),a=n(736),i=n(59),u=n(14),s=n(257);e.exports=r},735:function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}e.exports=n},736:function(e,t,n){function r(e,t){var n=!0;return o(e,function(e,r,o){return n=!!t(e,r,o)}),n}var o=n(136);e.exports=r}});
//# sourceMappingURL=34.a20f4daa.chunk.js.map