webpackJsonp([41],{1574:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n.n(l),u=n(8),s=n.n(u),f=n(41),p=n(42),d=n(254),v=n.n(d),m=n(43),b=n(27),h=n(867),y=n(80),O=n.n(y),g=n(729),E=n(6),R=n(136),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function(e){function t(){var e,n,i,l;a(this,t);for(var c=arguments.length,u=Array(c),s=0;s<c;s++)u[s]=arguments[s];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.state={role:{level:{type:"",id:""},name:"",description:"",policies:[]},roleBuffer:{},name:"",description:""},i._isFormValid=function(){var e=i.state.role.name;return Object(g.a)({name:e})},i._handleInputChange=function(e,t){i.setState(function(){return Object.assign({},i.state,r({},e,t))})},i._handleEditRole=function(){var e=i.state,t=e.name,n=e.description,r=e.role.uuid,a=new FormData;a.append("name",t),a.append("description",n),i.props.editRole(i.props.authUser.token,r,a)},l=n,o(i,l)}return i(t,e),_(t,[{key:"componentDidUpdate",value:function(e){var t=e.OPERATION_SUCCESSFUL,n=e.OPERATION_FAILED,r=this.props,a=r.OPERATION_SUCCESSFUL,o=r.OPERATION_FAILED,i=r.history,l=this.state.role.name&&this.state.role.name.toUpperCase();O()(t,a)||a.action===E._31&&(i.goBack(),R.a.show({message:"Role Successfully Updated \ud83d\ude03",intent:f.x.SUCCESS,icon:"tick"})),O()(n,o)||o.action===E._31&&(console.log(o.data),R.a.show({message:"Could Not Update "+l+" \ud83d\ude1e",intent:f.x.DANGER,icon:"error"}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.roleBuffer,r=t.name,a=t.description,o=this.props.editingRole,i=!this._isFormValid()||O()({name:r,description:a},n);return[c.a.createElement("div",{className:"pt-dialog-body"},c.a.createElement("label",{className:"pt-label"},"Name",c.a.createElement("input",{value:r||"",name:"name",onChange:function(t){var n=t.target,r=n.name,a=n.value;return e._handleInputChange(r,a)},className:"pt-input pt-fill",type:"text",dir:"auto"})),c.a.createElement("label",{className:"pt-label"},"Description",c.a.createElement("textarea",{name:"description",onChange:function(t){var n=t.target,r=n.name,a=n.value;return e._handleInputChange(r,a)},value:a,className:"pt-input pt-fill",dir:"auto"}))),c.a.createElement("div",{className:"pt-dialog-footer"},c.a.createElement("div",{className:"pt-dialog-footer-actions"},c.a.createElement(f.e,{disabled:i,loading:o,intent:f.x.PRIMARY,onClick:this._handleEditRole,icon:"tick",text:"save"})))]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.role,r=e.roles,a=e.match.params.uuid,o=v()(r,{uuid:a});if(O()(n,o))return null;var i=o.name,l=o.description;return{role:o,roleBuffer:{name:i,description:l},name:i,description:l}}}]),t}(c.a.Component);A.propTypes={authUser:s.a.object.isRequired,match:s.a.object.isRequired,history:s.a.object.isRequired,OPERATION_FAILED:s.a.object.isRequired,OPERATION_SUCCESSFUL:s.a.object.isRequired,roles:s.a.array.isRequired,editRole:s.a.func.isRequired,editingRole:s.a.bool.isRequired};var C=function(e){return{authUser:e.authUser,OPERATION_FAILED:e.OPERATION_FAILED,OPERATION_SUCCESSFUL:e.OPERATION_SUCCESSFUL,roles:e.roles,editingRole:e.editingRole}},S=function(e){return Object(m.b)({editRole:h.c},e)};t.default=Object(p.f)(Object(b.b)(C,S)(A))},729:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=[];return l()(e,function(e,n){if("number"===typeof e)if(e){var o;t=[].concat(a(t),[(o={},r(o,n,e),r(o,"valid",!0),o)])}else{var i;t=[].concat(a(t),[(i={},r(i,n,e),r(i,"valid",!1),i)])}else if("string"===typeof e)if(e.trim().length>0){var l;t=[].concat(a(t),[(l={},r(l,n,e),r(l,"valid",!0),l)])}else{var c;t=[].concat(a(t),[(c={},r(c,n,e),r(c,"valid",!1),c)])}else if(u()(e))if(e.length>0){var s;t=[].concat(a(t),[(s={},r(s,n,e),r(s,"valid",!0),s)])}else{var f;t=[].concat(a(t),[(f={},r(f,n,e),r(f,"valid",!1),f)])}else{var p;t=[].concat(a(t),[(p={},r(p,n,e),r(p,"valid",!1),p)])}}),console.log("form validation",t),f()(t,"valid")}t.a=o;var i=n(731),l=n.n(i),c=n(14),u=n.n(c),s=n(733),f=n.n(s)},731:function(e,t,n){function r(e,t){return e&&a(e,o(t))}var a=n(257),o=n(732);e.exports=r},732:function(e,t,n){function r(e){return"function"==typeof e?e:a}var a=n(60);e.exports=r},733:function(e,t,n){function r(e,t,n){var r=l(e)?a:o;return n&&c(e,t,n)&&(t=void 0),r(e,i(t,3))}var a=n(734),o=n(735),i=n(59),l=n(14),c=n(258);e.exports=r},734:function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}e.exports=n},735:function(e,t,n){function r(e,t){var n=!0;return a(e,function(e,r,a){return n=!!t(e,r,a)}),n}var a=n(137);e.exports=r}});
//# sourceMappingURL=41.54bdfc07.chunk.js.map