webpackJsonp([9],{1002:function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return o});var a=t(6),r=function(e){var n=e.channel,t=e.onMachinesUpdated;n.on(a._124,function(e){return t(e)})},o=function(e){var n=e.machines;return{type:a._124,machines:n}}},1003:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var r=t(255),o=t.n(r),i=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),c=function(){function e(){a(this,e)}return i(e,null,[{key:"list",value:function(e,n){return o()({method:"GET",headers:{Authorization:"Bearer "+e},params:n,url:"/api/browser/centers"})}},{key:"single",value:function(e,n){return o()({method:"GET",headers:{Authorization:"Bearer "+e},url:"/api/browser/centers/"+n})}},{key:"add",value:function(e,n){return o()({method:"POST",headers:{Authorization:"Bearer "+e},data:n,url:"/api/browser/centers"})}},{key:"edit",value:function(e,n,t){return o()({method:"PUT",headers:{Authorization:"Bearer "+e},data:t,url:"/api/browser/centers/"+n})}},{key:"delete",value:function(e,n){return o()({method:"DELETE",headers:{Authorization:"Bearer "+e},url:"/api/browser/centers/"+n})}}]),e}();n.a=c},1608:function(e,n,t){var a=t(1609);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!1};r.transform=void 0;t(699)(a,r);a.locals&&(e.exports=a.locals)},1609:function(e,n,t){n=e.exports=t(698)(!0),n.push([e.i,".Map__Page{color:#394b59!important;display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:justify;justify-content:space-between;height:100%;width:100%}.Map__Page .mapboxgl-ctrl.mapboxgl-ctrl-attrib,.Map__Page .ol-attribution button,.Map__Page .ol-attribution ul{display:none!important}.Map__Page .Map__Box{width:100%;height:100%}.Map__Page .Map__Box #map{height:100%}.Map__Page .Map__Box .mapboxgl-popup-content{padding:0}.Map__Page .Map__Box .Center__Details__Popup{max-width:300px;padding:0!important}.Map__Page .Map__Box .Center__Details__Popup .Header{color:#394b59!important;font-size:1.5em;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-align:center;align-items:center;height:30px;border-bottom-left-radius:0;border-bottom-right-radius:0}.Map__Page .Map__Box .Center__Details__Popup .Content{padding:10px;max-height:calc(100% - 30px);overflow-y:auto}.Map__Page .Map__Box .Center__Details__Popup .Content .Machine{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-align:center;align-items:center}.Map__Page .Machines__Box{display:-ms-flexbox;display:flex;position:absolute;border-radius:0;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center;width:100%;padding-right:4px;background-color:hsla(0,0%,100%,0);-webkit-box-shadow:none;box-shadow:none;height:50px;z-index:999999}.Map__Page .Machines__Box .Header{height:40px;width:25%;margin:0}","",{version:3,sources:["/run/media/guru/Basket/currentDocument/current/projects/javascipt/mrw-tracker/src/Components/MachinesMap/index.css"],names:[],mappings:"AAGA,WACE,wBAA0B,AAC1B,oBAAqB,AACrB,aAAc,AACd,kBAAmB,AACnB,sBAAuB,AACnB,8BAA+B,AACnC,YAAa,AACb,UAAY,CAAE,AACd,+GACE,sBAAyB,CAAE,AAC7B,qBACE,WAAY,AACZ,WAAa,CAAE,AACf,0BACE,WAAa,CAAE,AACjB,6CACE,SAAW,CAAE,AACf,6CACE,gBAAiB,AACjB,mBAAsB,CAAE,AACxB,qDACE,wBAA0B,AAC1B,gBAAiB,AACjB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,6BAA8B,AAClC,sBAAuB,AACnB,mBAAoB,AACxB,YAAa,AACb,4BAA6B,AAC7B,4BAA8B,CAAE,AAClC,sDACE,aAAc,AACd,6BAA8B,AAC9B,eAAiB,CAAE,AACnB,+DACE,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,6BAA8B,AAClC,sBAAuB,AACnB,kBAAoB,CAAE,AAClC,0BACE,oBAAqB,AACrB,aAAc,AACd,kBAAmB,AACnB,gBAAiB,AACjB,kBAAmB,AACf,yBAA0B,AAC9B,sBAAuB,AACnB,mBAAoB,AACxB,WAAY,AACZ,kBAAmB,AACnB,mCAAyC,AACzC,wBAAyB,AACjB,gBAAiB,AACzB,YAAa,AACb,cAAgB,CAAE,AAClB,kCACE,YAAa,AACb,UAAW,AACX,QAAU,CAAE",file:"index.css",sourcesContent:["/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n */\n.Map__Page {\n  color: #394b59 !important;\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  height: 100%;\n  width: 100%; }\n  .Map__Page .ol-attribution ul, .Map__Page .ol-attribution button, .Map__Page .mapboxgl-ctrl.mapboxgl-ctrl-attrib {\n    display: none !important; }\n  .Map__Page .Map__Box {\n    width: 100%;\n    height: 100%; }\n    .Map__Page .Map__Box #map {\n      height: 100%; }\n    .Map__Page .Map__Box .mapboxgl-popup-content {\n      padding: 0; }\n    .Map__Page .Map__Box .Center__Details__Popup {\n      max-width: 300px;\n      padding: 0 !important; }\n      .Map__Page .Map__Box .Center__Details__Popup .Header {\n        color: #394b59 !important;\n        font-size: 1.5em;\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-pack: distribute;\n            justify-content: space-around;\n        -ms-flex-align: center;\n            align-items: center;\n        height: 30px;\n        border-bottom-left-radius: 0;\n        border-bottom-right-radius: 0; }\n      .Map__Page .Map__Box .Center__Details__Popup .Content {\n        padding: 10px;\n        max-height: calc(100% - 30px);\n        overflow-y: auto; }\n        .Map__Page .Map__Box .Center__Details__Popup .Content .Machine {\n          display: -ms-flexbox;\n          display: flex;\n          -ms-flex-pack: distribute;\n              justify-content: space-around;\n          -ms-flex-align: center;\n              align-items: center; }\n  .Map__Page .Machines__Box {\n    display: -ms-flexbox;\n    display: flex;\n    position: absolute;\n    border-radius: 0;\n    -ms-flex-pack: end;\n        justify-content: flex-end;\n    -ms-flex-align: center;\n        align-items: center;\n    width: 100%;\n    padding-right: 4px;\n    background-color: rgba(255, 255, 255, 0);\n    -webkit-box-shadow: none;\n            box-shadow: none;\n    height: 50px;\n    z-index: 999999; }\n    .Map__Page .Machines__Box .Header {\n      height: 40px;\n      width: 25%;\n      margin: 0; }\n"],sourceRoot:""}])},1610:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var a=t(0),r=t.n(a),o=t(256),i=t.n(o),c=t(829),s=i()({loader:function(){return t.e(12).then(t.bind(null,1611))},loading:function(){return r.a.createElement(c.a,null)}})},707:function(e,n,t){"use strict";function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function i(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var c=t(0),s=t.n(c),u=t(8),l=t.n(u),p=t(41),A=t(1608),f=(t.n(A),t(43)),d=t(27),m=t(1002),h=t(913),_=t(906),g=t(1610),y=t(766),b=t.n(y),B=t(42),C=t(80),x=t.n(C),v=t(254),j=t.n(v),M=(t(136),function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}()),w=function(e){function n(){var e,t,i,c;r(this,n);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return t=i=o(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(u))),i.state=a({current:null,machine:null,center:null,q:""},"machine",null),i._performSearch=function(){var e=i.state.q;e.trim()&&i.props.history.push("/map?q="+e)},c=t,o(i,c)}return i(n,e),M(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.authUser.token,t=e.userChannel,a=(e.location.search,e.onMachinesUpdated),r=e.loadMachines,o=e.loadCenters;Object(m.a)({channel:t,onMachinesUpdated:a}),r(n,{}),o(n,{map:!0})}},{key:"componentDidUpdate",value:function(e,n){this.props.machines,this.state.searchQuery,n.searchQuery}},{key:"render",value:function(){var e=this,n=this.props.centers;return s.a.createElement("div",{className:"Map__Page"},s.a.createElement("div",{className:"Map__Box"},s.a.createElement(g.a,{centers:n,query:this.state.machine})),s.a.createElement(p.g,{elevation:p.o.TWO,className:"Machines__Box"},s.a.createElement("div",{className:"Header"},s.a.createElement("div",{className:"bp3-input-group .modifier"},s.a.createElement("span",{className:"bp3-icon bp3-icon-search"}),s.a.createElement("input",{onChange:function(n){var t=n.target.value;return e.setState({q:t})},value:this.state.q,type:"text",className:"bp3-input",placeholder:"Machine name..."}),s.a.createElement("button",{onClick:function(){return e._performSearch()},className:"bp3-button bp3-minimal bp3-intent-primary bp3-icon-arrow-right"})))))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var t=e.location.search,a=e.machines,r=(e.centers,n.q),o=n.machine,i=b.a.parse(t),c=i.q;console.log("prevState",r,c);var s=j()(a,{name:c})||null;return x()(s,o)?null:{machine:s}}}]),n}(s.a.Component);w.propTypes={location:l.a.object.isRequired,history:l.a.object.isRequired,userChannel:l.a.object.isRequired,authUser:l.a.object.isRequired,onMachinesUpdated:l.a.func.isRequired,loadMachines:l.a.func.isRequired,loadCenters:l.a.func.isRequired,machinesLocations:l.a.array.isRequired,centers:l.a.array.isRequired};var E=function(e){return{authUser:e.authUser,userChannel:e.userChannel,machinesLocations:e.machinesLocations,centers:e.mapCenters,machines:e.machines}},P=function(e){return Object(f.b)({onMachinesUpdated:m.b,loadMachines:h.a,loadCenters:_.e},e)};n.default=Object(B.f)(Object(d.b)(E,P)(w))},766:function(e,n,t){"use strict";function a(e){switch(e.arrayFormat){case"index":return function(n,t,a){return null===t?[o(n,e),"[",a,"]"].join(""):[o(n,e),"[",o(a,e),"]=",o(t,e)].join("")};case"bracket":return function(n,t){return null===t?o(n,e):[o(n,e),"[]=",o(t,e)].join("")};default:return function(n,t){return null===t?o(n,e):[o(n,e),"=",o(t,e)].join("")}}}function r(e){var n;switch(e.arrayFormat){case"index":return function(e,t,a){if(n=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!n)return void(a[e]=t);void 0===a[e]&&(a[e]={}),a[e][n[1]]=t};case"bracket":return function(e,t,a){return n=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),n?void 0===a[e]?void(a[e]=[t]):void(a[e]=[].concat(a[e],t)):void(a[e]=t)};default:return function(e,n,t){if(void 0===t[e])return void(t[e]=n);t[e]=[].concat(t[e],n)}}}function o(e,n){return n.encode?n.strict?u(e):encodeURIComponent(e):e}function i(e){return Array.isArray(e)?e.sort():"object"===typeof e?i(Object.keys(e)).sort(function(e,n){return Number(e)-Number(n)}).map(function(n){return e[n]}):e}function c(e){var n=e.indexOf("?");return-1===n?"":e.slice(n+1)}function s(e,n){n=l({arrayFormat:"none"},n);var t=r(n),a=Object.create(null);return"string"!==typeof e?a:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("="),r=n.shift(),o=n.length>0?n.join("="):void 0;o=void 0===o?null:p(o),t(p(r),o,a)}),Object.keys(a).sort().reduce(function(e,n){var t=a[n];return Boolean(t)&&"object"===typeof t&&!Array.isArray(t)?e[n]=i(t):e[n]=t,e},Object.create(null))):a}var u=t(824),l=t(81),p=t(825);n.extract=c,n.parse=s,n.stringify=function(e,n){n=l({encode:!0,strict:!0,arrayFormat:"none"},n),!1===n.sort&&(n.sort=function(){});var t=a(n);return e?Object.keys(e).sort(n.sort).map(function(a){var r=e[a];if(void 0===r)return"";if(null===r)return o(a,n);if(Array.isArray(r)){var i=[];return r.slice().forEach(function(e){void 0!==e&&i.push(t(a,e,i.length))}),i.join("&")}return o(a,n)+"="+o(r,n)}).filter(function(e){return e.length>0}).join("&"):""},n.parseUrl=function(e,n){return{url:e.split("?")[0]||"",query:s(c(e),n)}}},824:function(e,n,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},825:function(e,n,t){"use strict";function a(e,n){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;n=n||1;var t=e.slice(0,n),r=e.slice(n);return Array.prototype.concat.call([],a(t),a(r))}function r(e){try{return decodeURIComponent(e)}catch(r){for(var n=e.match(i),t=1;t<n.length;t++)e=a(n,t).join(""),n=e.match(i);return e}}function o(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},t=c.exec(e);t;){try{n[t[0]]=decodeURIComponent(t[0])}catch(e){var a=r(t[0]);a!==t[0]&&(n[t[0]]=a)}t=c.exec(e)}n["%C2"]="\ufffd";for(var o=Object.keys(n),i=0;i<o.length;i++){var s=o[i];e=e.replace(new RegExp(s,"g"),n[s])}return e}var i=new RegExp("%[a-f0-9]{2}","gi"),c=new RegExp("(%[a-f0-9]{2})+","gi");e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(n){return o(e)}}},829:function(e,n,t){"use strict";var a=t(0),r=t.n(a),o=t(41),i=t(873);t.n(i);n.a=function(){return r.a.createElement("div",{className:"loading"},r.a.createElement(o.N,null))}},873:function(e,n,t){var a=t(874);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!1};r.transform=void 0;t(699)(a,r);a.locals&&(e.exports=a.locals)},874:function(e,n,t){n=e.exports=t(698)(!0),n.push([e.i,".loading{width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}","",{version:3,sources:["/run/media/guru/Basket/currentDocument/current/projects/javascipt/mrw-tracker/src/Components/Common/loading/index.css"],names:[],mappings:"AAAA,SACE,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,uBAAwB,AAC5B,sBAAuB,AACnB,kBAAoB,CAAE",file:"index.css",sourcesContent:[".loading {\n  width: 100%;\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center; }\n"],sourceRoot:""}])},906:function(e,n,t){"use strict";t.d(n,"e",function(){return i}),t.d(n,"d",function(){return c}),t.d(n,"a",function(){return s}),t.d(n,"c",function(){return u}),t.d(n,"b",function(){return l});var a=t(6),r=t(1003),o=t(135),i=(t.n(o),function(e,n){return function(t){return t({type:a._49}),n.map?r.a.list(e,n).then(function(e){var n=e.data;t({type:a._87,centers:n})}).catch(function(e){t({type:a._50}),console.log(e)}):r.a.list(e,n).then(function(e){var n=e.data,r=n.centers,o=n.pagination;t({type:a._51,centers:r,pagination:o})}).catch(function(e){t({type:a._50}),console.log(e)})}}),c=function(e,n){return function(t){return t({type:a._48}),r.a.single(e,n).then(function(e){var n=e.data;t({type:a._53,center:n}),n&&t({type:a._129,action:a._48,timestamp:Object(o.getTime)(Date()),data:Object.assign({},n)})}).catch(function(e){t({type:a._127,action:a._48,timestamp:Object(o.getTime)(Date()),data:Object.assign({},e)}),t({type:a._52}),console.log(e)})}},s=function(e,n){return function(t){return t({type:a.d}),r.a.add(e,n).then(function(e){var n=e.data.created;n&&(t({type:a.f}),t({type:a._129,action:a.d,timestamp:Object(o.getTime)(Date()),data:{created:n}}))}).catch(function(e){t({type:a._127,action:a.H,timestamp:Object(o.getTime)(Date()),data:Object.assign({},e)}),t({type:a.e}),console.log(e)})}},u=function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(c){return c({type:a._13}),r.a.edit(e,n,t).then(function(e){var n=e.data.updated;n&&(c({type:a._15}),i=i||a._13,c({type:a._129,action:i,timestamp:Object(o.getTime)(Date()),data:{updated:n}}))}).catch(function(e){c({type:a._127,action:a._13,timestamp:Object(o.getTime)(Date()),data:Object.assign({},e)}),c({type:a._14}),console.log(e)})}},l=function(e,n){return function(t){return t({type:a.O}),r.a.delete(e,n).then(function(e){var n=e.data.deleted;n&&(t({type:a.Q}),t({type:a._129,action:a.O,timestamp:Object(o.getTime)(Date()),data:{deleted:n}}))}).catch(function(e){t({type:a._127,action:a.O,timestamp:Object(o.getTime)(Date()),data:Object.assign({},e)}),t({type:a.P}),console.log(e)})}}},913:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var a=t(6),r=t(914),o=function(e,n){return function(t){return t({type:a._66}),r.a.list(e,n).then(function(e){var n=e.data;t({type:a._68,machines:n})}).catch(function(e){t({type:a._67}),console.log(e)})}}},914:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var r=t(255),o=t.n(r),i=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),c=function(){function e(){a(this,e)}return i(e,null,[{key:"list",value:function(e,n){return o()({method:"GET",url:"/api/browser/machines",headers:{Authorization:"Bearer "+e},params:n})}}]),e}();n.a=c}});
//# sourceMappingURL=9.7557ec21.chunk.js.map